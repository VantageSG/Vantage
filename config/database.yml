# Note: On our EC2 instances, we configure DATABASE_URL and that will overwrite all these config

default: &default
  host: <%= Rails.application.secrets.db_host %>
  adapter: mysql2
  encoding: utf8mb4
  reconnect: true
  database: <%= Rails.application.secrets.db_name %>
  pool: <%= Rails.application.secrets.db_pool %>
  username: <%= Rails.application.secrets.db_username %>
  password: <%= Rails.application.secrets.db_password %>
  socket: /tmp/mysql.sock

development:
  <<: *default

# Warning: The database defined as "test" will be erased and
# re-generated from your development database when you run "rake".
# Do not set this db to the same as development or production.
test: &test
  <<: *default
  # Note: TEST_ENV_NUMBER is necessary to work with parallel_tests (Refer to corresponding PR)
  database: <%= "#{ENV["TEST_DB_NAME"] || "Vantage_test"}#{ENV["TEST_ENV_NUMBER"]}" %>

cucumber:
  <<: *test

#enabled for asset precompilation  not used..
production:
  <<: *default

worker:
  <<: *default

staging:
  <<: *default

sandbox:
  <<: *default

auditor:
  <<: *default

auditor_records:
  <<: *default
  url: <%= Rails.application.secrets.auditor_db_url %>
